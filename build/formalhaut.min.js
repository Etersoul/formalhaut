/*! formalhaut 28-05-2015 */

var $F=$F?$F:null;!function(a){"use strict";function b(){!a&&"1"!=a.fn.jQuery.split(".")[0]&&parseInt(a.fn.jQuery.split(".")[1])<10&&console.error("Formalhaut JS engine needs jQuery 1.10"),null===$F&&($F=c())}function c(){var b=function(){};return b.addAfterSuccessServiceHook=function(a){o.push(a)},b.window=window,b.ajax=function(b){b.progress=b.progress||!0;var c=b.type||"GET",d=null;return++h,n||e(),b.progress===!0?"post"===c.toLowerCase()&&(d=$F.popup.create({content:'<p style="font-size: 14px">Processing request. Please wait until this message disappear.',modal:!0})):"function"==typeof b.progress&&b.progress(),a.ajax({url:b.url,data:b.data||{},type:c,contentType:"undefined"!=typeof b.contentType?b.contentType:"application/json",processData:"undefined"!=typeof b.processData?b.processData:!0,dataType:b.dataType||"json",success:function(a,c){if(!a.status){var d=a;a={},a.status="200",a.data=d,console.warn("Using the old service payload style. Please move to the new service style")}b.success(a.data,a.status)},complete:function(){++i,b.complete&&b.complete.apply(this,arguments),null!=d&&d.close();for(var a=0;a<o.length;a++)o[a]()},error:function(a){401===a.status&&(location.href=$F.config.get("loginUri")),$F.logError("Ajax error");$F.popup.create({content:'<p style="font-size: 14px">There is an error somewhere in the service. Please inform the developer.</p>'})}})},b.get=function(a,b){return $F.ajax({url:a,type:"GET",complete:b})},b.post=function(a,b,c){return $F.ajax({url:a,type:"POST",data:b,contentType:"application/json",complete:c})},b.service=function(a){a.url=$F.config.get("serviceUri")+a.url;var c=b.ajax(a);return c},b.logError=function(a){console.error(a)},b.setConfig=function(a){config=a},b.hook=function(a){},b.help=function(){var a=[];for(var c in b)"function"==typeof b[c]&&a.push(c+"()");console.info(a.join(", "))},b}function d(){a("body").append(a('<div id="loading-bar"></div>').css({background:"rgba(255, 255, 0, 0.8)",display:"none",height:"2px",position:"fixed",top:"0",left:"-2px",zIndex:"11999",boxShadow:"2px 2px 2px #000"}))}function e(){n=!0;var b=a(window).width();if(m!==i&&(l=0,m=i),k>=l&&++l,i>=h){if(j--,0==j)return j=20,i=0,h=0,g=20,void f()}else b=i/h*b+l/k*(1/h)*b*.6+2,a("#loading-bar").show().width(b),j=10;setTimeout(e,50)}function f(){var b=a(window).width();return a("#loading-bar").width(b),--g,0===g?(a("#loading-bar").fadeOut(),void(n=!1)):void setTimeout(f,50)}var g,h=0,i=0,j=20,k=20,l=0,m=0,n=!1,o=[];b(),a(window).ready(function(){d()})}(jQuery),function(a,b){"use strict";var c=[],d={};b.config={},b.config.load=function(a){d=a;for(var b in c)c[b]()},b.config.get=function(a){return d[a]?d[a]:null},b.config.hook=function(a){"function"==typeof a&&c.push(a)}}(jQuery,$F);var BM={};!function(a,b){"use strict";b.compat={},b.compat.subViewInit=function(a){if(null!=a)return a;if(window.subView){var b=window.subView;return delete window.subView,b.afterLoad=b.onLoaded,console.warn("Using deprecated var subView. Please change to $F.loadView."),alert("Using deprecated var subView. Please change to $F.loadView."),b}},b.compat.popupSubViewInit=function(a){if(null!=a)return a;if(window.popupSubView){var b=window.popupSubView;return delete window.popupSubView,b.afterLoad=b.onLoaded,console.warn('Using deprecated var popupSubView. Please use $F.loadView with "popup: true".'),alert('Using deprecated var popupSubView. Please use $F.loadView with "popup: true".'),b}},b.config.hook(function(){BM.ajax=function(a){b.ajax(a)},BM.serviceUri=b.config.get("serviceUri")})}(jQuery,$F),function(a,b){"use strict";var c=null,d=[];b.nav={},b.nav.TRIGGER_SCOPE_PARAM="param",b.nav.TRIGGER_SCOPE_FULL="all",b.nav.getCurrentHash=function(){return location.hash},b.nav.splitParameter=function(a,b){b=b||{},a=a.split("#")[0];var c="",d=a,e=0;if(-1!==a.search(/\?/))c=a.substr(a.search(/\?/)+1),d=a.substr(0,a.search(/\?/)),e=2;else if(-1!==a.search(/\./)){var f=a.search(/\./);c=a.substr(f+1),d=a.substr(0,f),e=1}var g={fullParam:c,param:[],namedParam:{}};if(""!==c)if(1===e)g.param=c.split("/");else{g.param=c.split("&");for(var h=0;h<g.param.length;h++){var i=g.param[h],f=i.search("="),j=decodeURI(i.substr(f+1)),k=decodeURI(i.substr(0,f));g.namedParam[k]=j}}if(b instanceof Array)for(var h=g.param.length;h<b.length;h++)g.param.push(b[h]);else for(var l in b)"undefined"==typeof g.namedParam[l]&&(g.namedParam[l]=b[l]);return{query:c,hash:d,paramType:e,arg:g}},b.nav.getLastHash=function(a){if(a){var c=a.split(".");return{first:c[0],second:c[1]}}return b.nav.getLastHash()},b.nav.setLocation=function(a){location.hash=a},b.nav.setNamedParam=function(c,d){d=d||!1;var e=window.location.hash.substr(1),f=b.nav.splitParameter(e);location.href=b.util.buildUrl("#"+f.hash,c),d&&a(window).trigger("hashchange",b.nav.TRIGGER_SCOPE_PARAM)},b.nav.rewriteLocation=function(c){window.history&&window.history.replaceState?(window.history.replaceState({},null,c),a(window).trigger("hashchange")):b.nav.setLocation(c)},b.nav.refreshSubView=function(a){subView=null,nav.getScript({hash:location.hash})},b.nav.addBeforeLoad=function(a){c.globalBeforeLoad=a},b.nav.addAfterLoad=function(a){c.globalAfterLoad=a},b.nav.addHashChangeHook=function(a){d.push(a)},b.nav.setCommunicationLink=function(a){null===c&&(c=a)}}(jQuery,$F),function(a,b){"use strict";function c(b){b=b||null,a('a[data-orig-href^="##"]',b).each(function(b,c){a(c).attr("href","#/"+f+"#"+a(c).attr("data-orig-href").substr(2))}),a('a[data-orig-href^="#."]',b).each(function(b,c){a(c).attr("href","#/"+g+"."+a(c).attr("data-orig-href").substr(2))})}function d(b){b=b||null,a('a[href^="##"]',b).each(function(b,c){a(c).attr("data-orig-href",a(c).attr("href"))}),a('a[href^="#."]',b).each(function(b,c){a(c).attr("data-orig-href",a(c).attr("href"))}),c(b)}function e(){a(window).on("hashchange",function(a,c){if("##"===window.location.hash.substr(0,2)&&window.history.replaceState(null,"","#/"+f+"#"+window.location.hash.substr(2)),"#."===window.location.hash.substr(0,2)&&window.history.replaceState(null,"","#/"+f+"."+window.location.hash.substr(2)),"#/"===window.location.hash.substr(0,2)){var e=window.location.hash.substr(2),l="",m="",n=e;-1!==n.search(/#/)&&(l=e.substr(n.search(/#/)+1),n=e.substr(0,n.search(/#/))),m=n,f=n;var o=b.nav.splitParameter(n);if(g===o.hash&&i!==o.query||c===b.nav.TRIGGER_SCOPE_PARAM){var p=q.currentSubView;for(o=b.nav.splitParameter(n,p.defaultArguments);p.afterParamLoad&&p.afterParamLoad(o.arg),"undefined"!=typeof p.parent;)p=p.parent;return i=o.query,f=m,void d()}var r=null;h!==l&&(j?r=l:(""!==l?q.openPopup(f,l):q.closePopup(),h=l)),j=!1;var s=o.hash.split(/\//g);0===f.indexOf(o.hash)&&(k=[]),q.getScript({hashList:s,hash:o.hash,query:o.query,firstPopup:r}),g=o.hash,f=m,i=o.query}})}var f="",g="",h="",i="",j=!0,k=[],l=[],m=[],n=null,o={},p=null,q={};q.globalBeforeLoad=null,q.globalAfterLoad=null,q.subView=null,q.currentSubView=null,q.rel="",e(),b.config.hook(function(){q.defaultRel=b.config.get("defaultRel")}),b.addAfterSuccessServiceHook(function(){d()}),b.nav.setCommunicationLink(q),q.reset=function(){q.rel="",q.subView=null,q.currentSubView=null,l=[],k=[]},q.getScript=function(c){for(var d=l.length-1;d>=0;d--)if(l[d].req===c.hash){for(;l.length>0;){var e=l[l.length-1].req;if(e.length<c.hash.length||e===c.hash)break;l.pop()}var f={fullParam:c.query,param:[],namedParam:{}};""!==c.query&&(f.param=c.query.split("/"));for(var g=0;g<l.length;g++)"function"==typeof l[g].script.afterChildLoad&&l[g].script.afterChildLoad(f);return void q.getHTML(c.query)}var h;h=b.config.get("debug")?q.getDebugScript:a.getScript;try{var i=h(b.config.get("viewUri")+c.hash+".js",function(){var a=b.compat.subViewInit(q.subView);if(a.superClass&&(o[a.superClass]||h(b.config.get("superClassUri")+a.superName+".js",function(){o[a.superClass]=p})),"undefined"!=typeof a.isPopup&&a.isPopup)return console.warn("Accessing popup as a non-popup view."),void alert("Accessing popup as a non-popup view.");q.subView=null;var d={script:a,req:c.hash},e="";return"undefined"!=typeof a.require&&(e=a.require),k.push(d),""===e?(l=[],void q.getHTML(c.query,c.firstPopup)):void q.getScript({hash:e,query:c.query,parent:a,firstPopup:c.firstPopup})});null!==i&&"function"==typeof i.error&&i.fail(function(a,c,d){console.log(d),404===a.status&&b.popup.show({content:'<h2 style="font-size:20px;margin: 0 0 20px 0;text-align:center">404 Error: File not found</h2><p style="width: 700px;margin:20px 0;line-height:18px;">You might be get here by entering wrong address in the address bar, clicking a link within application, or doing something that might trigger error. Please inform the developer if this problem persists and occured repeatedly.</p><div style="text-align:center;"><a href="javascript:history.go(-1);$F.popup.close();" class="button">Return</a><a href="#/bug-report?problem=404" class="button">Report Problem</a><a href="." class="button">Return to dashboard.</a></div>'})})}catch(j){throw j}},q.getHTML=function(e,f){if(0===k.length)return c(),void b.initInput();var g=k.pop(),h=g.script;l.length>0&&(h.parent=l[l.length-1].script),l.push({script:h,req:g.req});var i=g.req;q.currentSubView=h;var j=q.defaultRel;"undefined"!=typeof h.rel&&a("#"+h.rel).length>0&&(j=h.rel);var m=(new Date).getTime();a.get(b.config.get("viewUri")+i+".html?_="+m,function(c){var g=a(c);a("#"+j).empty().append(g);var l=null;"undefined"!=typeof h.defaultArguments&&(l=h.defaultArguments);var m=b.nav.splitParameter(b.nav.getCurrentHash().substr(2),l);return h.getElement=function(){return g},q.globalBeforeLoad&&q.globalBeforeLoad(h,g),h.afterLoad(m.arg),q.globalAfterLoad&&q.globalAfterLoad(h,g),document.title=h.title,0===k.length?("function"==typeof h.onDefaultChild&&h.onDefaultChild(m.arg),h.defaultChildView?(history.replaceState(null,"","#/"+h.defaultChildView),void a(window).trigger("hashchange")):f?void q.openPopup(i,f,!0):(d(),q.runHashChangeHook(),void b.initInput())):void q.getHTML(e,f)})},q.openPopup=function(e,f,g){g=g||!1;var h=e.split("?"),i=h[0],j=b.nav.splitParameter(f),k=i.split(".");a.getScript("view/"+k[0]+"/"+j.hash+".js",function(){var e=b.compat.popupSubViewInit(q.subView);a.get("view/"+k[0]+"/"+j.hash+".html?_="+(new Date).getTime(),function(h){var i=a(h);n=b.popup.create({content:i,scrolling:"no",autoExpand:!0,afterClose:function(){n=null,q.closePopup(),c()}}),"object"==typeof e&&(e.isPopup||console.warn("Trying to access non-popup enabled view."),e.closePopup=q.closePopup,e.parent=q.currentSubView,e.getElement=function(){return i},j=b.nav.splitParameter(f,e.defaultArguments),q.globalBeforeLoad&&q.globalBeforeLoad(e,i),e.afterLoad(j.arg),q.globalAfterLoad&&q.globalAfterLoad(e,i),g&&(d(),b.initInput(),q.runHashChangeHook()))},"html")})},q.closePopup=function(){b.nav.setLocation("#/"+f),null!==n&&(n.close(),n=null)},q.getDebugScript=function(b,c){var d=a("<script></script>").attr("src",b);return a("head").append(d),c(),null},q.runHashChangeHook=function(){for(var a=0;a<m.length;a++)m[a]()},b.loadView=function(a){q.subView=a},b.loadSuper=function(a){p=a}}(jQuery,$F),function(a,b){b.nav.addHashChangeHook(function(){a("[data-f-title]").off("mouseenter.f-annotation").off("mouseleave.f-annotation"),a("[data-f-title]").on("mouseenter.f-annotation",function(){var b=a('<div class="f-annotation-box"></div>').css("background","#fff").css("border","1px solid #333").css("padding","5px").text(a(this).attr("data-f-title")).css("position","absolute").css("left",a(this).offset().left+"px").css("top",a(this).offset().top+"px").css("z-index","40000").css("max-width","300px");a("body").append(b)}).on("mouseleave.f-annotation",function(){a(".f-annotation-box").remove()})})}(jQuery,$F),function(){window.onerror=function(a,b,c){"function"==typeof $F.service&&$F.service({url:"error/reporting",type:"post",data:JSON.stringify({error:a,url:b,line:c}),success:function(a){$F.popup.show({content:"There is an error within the application. The error has been informed to the developer and will be fixed immediately."})}})}}(),function(a,b){"use strict";b.format={},b.format.longDate=function(a,c){if("string"!=typeof a||0==/^\d{4}-\d\d-\d\d$/.test(a))return c&&c.bypass?a:"Invalid format (yyyy-mm-dd)";var d=b.config.get("months"),e=a.split(/-/);return"0"==e[1][0]?e[1]=parseInt(e[1][1]):e[1]=parseInt(e[1]),"0"==e[2][0]&&(e[2]=e[2][1]),e[2]+" "+d[e[1]]+" "+e[0]},b.format.shortDate=function(a,c){if("string"!=typeof a||0==/^\d{4}-\d\d-\d\d$/.test(a))return c&&c.bypass?a:"Invalid format (yyyy-mm-dd)";var d=b.config.get("shortMonths"),e=a.split(/-/);return"0"==e[1][0]?e[1]=parseInt(e[1][1]):e[1]=parseInt(e[1]),"0"==e[2][0]&&(e[2]=e[2][1]),e[2]+" "+d[e[1]]+" "+e[0]},b.format.date=function(a,b){if("string"!=typeof a||0==/^\d{4}-\d\d-\d\d$/.test(a))return b&&b.bypass?a:"Invalid format (yyyy-mm-dd)";var c=a.split(/-/);return c[2]+"-"+c[1]+"-"+c[0]},b.format.period=function(a){if(/\d{4}-\d-\d/.test(a)===!1)return a||"";var b=a.split(/-/);return b[0]=b[0]+"/"+(parseInt(b[0])+1).toString(),"1"==b[1]?b[1]="Odd":"2"==b[1]?b[1]="Even":"3"==b[1]&&(b[1]="Compact"),"0"==b[2]?b[0]+" - "+b[1]:b[0]+" - "+b[1]+" - "+b[2]},b.format.number=function(a){return b.format.customNumber(a,".",",",",",".",!1)},b.format.cleanNumber=function(a){return b.format.customNumber(a,".",",",",",".",!0)},b.format.customNumber=function(a,b,c,d,e,f){if(b=b||".",c=c||",",d=d||b,e=e||c,f=f||!1,null==a)return a;var g=a.toString();if(new RegExp("^-?[0-9"+c+"]*("+b+"[0-9]*)?$").test(g)){g=g.replace(c,"").split(b);var h="",i="";if(0!==g[0].length)for(;g[0].length>0;){if("-"==g[0]){h="-"+h;break}h=g[0].substr(g[0].length-3>=0?g[0].length-3:0,3)+i+h,i=e,g[0]=g[0].substr(0,g[0].length-3)}else h="0";g.length>1&&(f&&(g[1]=g[1].replace(/0+$/,"")),""!=g[1]&&(h+=d+g[1])),g=h}return g},b.format.shortTime=function(a){if(!a)return"";var b=a.split(":");return b[0]+":"+b[1]},b.format.longTime=function(a){if(!a)return"";var b=a.split(":");return b[0]+":"+b[1]+":"+b[2].substr(0,2)},b.format.dateTime=function(a,c,d){c=c||"Date",d=d||"ShortTime";var e=a.split(" "),f=c,g=b.format[f](e[0]),h=e[1];if(""!=d){var i=d;h=b.format[i](h)}return g+" "+h}}(jQuery,$F),function(a,b){"use strict";b.inputFormat={},b.inputFormat.decimal=function(b){a(b).not(".f-input-number").addClass("f-input-number").on("keypress.inputnumber",function(b){function c(b,c,f){var g,h;g=b.selectionStart,h=b.selectionEnd;var i=b.value,j="";e=a(b).val(),j+=f?g!=h?i.substr(0,g)+i.substr(h):i.substr(0,g-1)+i.substr(h):i.substr(0,g)+String.fromCharCode(c)+i.substr(h),/^-?([1-9][0-9.]*|0?)(,[0-9]*)?$/.test(j)&&(j=d(j),e=j,b.value=j,1==b.value.length?b.setSelectionRange(1,1):f?b.setSelectionRange(g-1,g-1):b.setSelectionRange(g+Math.abs(j.length-i.length),g+Math.abs(j.length-i.length)))}function d(a){if(a=a.toString(),/^-?[0-9.]*(,[0-9]*)?$/.test(a)){a=a.replace(/\./g,"").split(",");for(var b="",c="";a[0].length>0;){if("-"==a[0]){b="-"+b;break}b=a[0].substr(a[0].length-3>=0?a[0].length-3:0,3)+c+b,c=".",a[0]=a[0].substr(0,a[0].length-3)}a.length>1&&(b+=","+a[1]),a=b}return a}if(b.which<32)return!0;var e=a(this).val();c(this,b.which,!1),b.preventDefault()})},b.initInput=function(){a(".input-time").not(".f-input-time").addClass("f-input-time").on("keyup.inputtime",function(b){if(8!=b.which&&46!=b.which){var c=a(this).val();3==c.length&&a(this).val(c.substr(0,2)+":"+c.substr(2,1))}})}}(jQuery,$F),function(a,b){"use strict";function c(a,b){return a.replace("{page}",b)}var d=20,e=".datatable",f="Page: ",g=3,h=function(){for(var a=4,b="abcdefghijklmnopqrstuvwxyz",c="",d=0;a>d;d++){var e=Math.random(),f=b[Math.floor(e*b.length)];c+=f}return c}();b.pagination=function(i){i=i||{},i.before=i.before||f,i.dataCount=parseInt(i.dataCount||1),i.perPage=parseInt(i.perPage||d),i.url=i.url||null,i.nextPrevCount=parseInt(i.nextPrevCount||g),i.currentPage=parseInt(i.currentPage||1);var j;if(i.element)j=a(i.element);else if(a(".page-"+h).length)j=a(".page-"+h),j.empty();else{j=a('<div class="pagination"></div>').addClass("page-"+h);var k=b.config.get("defaultRel"),l=a("#"+k+" table");if(l=l.is(e)?l.filter(e):l.eq(0),0===l.length){var m=[];return m.push("Not found any table for pagination."),m.push('Ensure you have at least one table or a table with "datatable" class name.'),m.push('Alternatively, send the element you want to populate with pagination in "element" property.'),void console.error(m.join("\n"))}l.after(j)}if(i.data&&a.isArray(i.data)&&(i.dataCount=i.data.length),null===i.url){var n=b.nav.getLastParam().split(/\//g);if(1===n.length&&""===n[0])i.url="#.{page}";else{var o=n[n.length-1];isNaN(o)?n.push("{page}"):(n.pop(),n.push("{page}")),i.url="#."+n.join("/")}}var p=Math.ceil(i.dataCount/i.perPage);j.html(""),j.append(a('<span class="pagination">'+i.before+"</span>")),j.append(a("<a></a>").text("<<").attr("href",c(i.url,1))),i.currentPage>1&&j.append(a('<a class="pageprev"></a>').text("<").attr("href",c(i.url,i.currentPage-1)));for(var q=i.currentPage-i.nextPrevCount;q<=i.currentPage+i.nextPrevCount;q++)1>q||q>p||j.append(a("<a></a>").text(q).attr("href",c(i.url,q)));i.currentPage<p&&j.append(a('<a class="pagenext"></a>').text(">").attr("href",c(i.url,i.currentPage+1))),j.append(a("<a></a>").text(">>").attr("href",c(i.url,p))),b.nav.prepareHashModifier(j)},b.pagination.getClass=function(){return h},b.pagination.getElement=function(){return a(".page-"+h)}}(jQuery,$F),function(a,b){"use strict";function c(b,c){this.wrap=null,this.id=c||Math.round(65536*Math.random()),b.content=b.content||"",b.width=b.width||"auto",b.height=b.height||"auto",b.modal=b.modal||!1,b.autoExpand=b.autoExpand||!1,f=b;var h=a(window).width(),j=a(window).height(),l=this;a("body").css({position:"relative",overflow:"hidden"});var m=a('<div class="popup-border"></div>').css({width:b.width});m.click(function(a){a.stopPropagation()});var n,o=a('<div class="popup-background"></div>');b.content instanceof a?(i=!0,e=b.content.clone(),b.content.before('<div id="popup-placeholder" style="display:none"></div>'),b.content.show(),n=a('<div class="popup-content"></div>').append(b.content)):n=a('<div class="popup-content"></div>').html(b.content),this.wrap=a('<div class="popup-full-wrap popup"></div>').css({width:h+"px",height:j+"px"}).click(function(a){a.stopPropagation()});var p=a('<div class="popup-inner-wrap"></div>').css({width:h+"px",height:j+"px"}),q=a('<div class="popup-second-inner-wrap"></div>'),r=null;b.modal||(r=a('<div class="popup-close-button"></div>').html("X").click(function(){l.close({afterClose:b.afterClose})}),p.click(function(){l.close({afterClose:b.afterClose})}),m.append(r)),m.append(n),q.append(m),p.append(q),this.wrap.append(o).append(p),a("body").append(this.wrap),this.wrap.animate({opacity:1},250);var s=this.wrap;g&&(g.popupClass&&this.wrap.addClass(g.popupClass),g.borderClass&&m.addClass(g.borderClass),g.backgroundClass&&o.addClass(g.backgroundClass),g.closeButtonClass&&r&&r.addclass(g.closeButtonClass),g.innerWrapClass&&innerWrapClass&&p.addClass(g.innerWrapClass)),d({},this.wrap),a(window).on("resize.popup",function(){d({},s)});var t=new MutationObserver(function(a){d({},s)});b.autoExpand&&t.observe(m[0],{childList:!0,subtree:!0}),k[c]&&k[c].close(),k[c]=this}function d(b,c){b=b||{},b.width=b.width||null;var d=a(window).width(),e=a(window).height();c.css({width:d+"px",height:e+"px"}),a(".popup-inner-wrap",c).css({width:d+"px",height:e+"px"});var g=a(".popup-border",c),h=a(".popup-second-inner-wrap",c);g.css({width:f.width}),h.css({height:g.height()+30+"px"}),null!=b.width&&g.css("width",b.width);var i=g.width(),j=g.height();g.css({left:d/2-i/2-15+"px",height:"auto"}),d>j&&g.css({top:"30px"})}var e,f,g,h=null,i=!1,j=0,k={};b.config.hook(function(){g=b.config.get("popup")}),c.prototype.close=function(b){b=b||{},b.afterClose&&b.afterClose(),this.wrap.animate({opacity:"0"},250,function(){a(this).hide(),a(this).remove()}),delete k[this.id],0==Object.keys(k).length&&a("body").css({overflow:""})},b.popup={},b.popup.create=function(a){++j;var b=new c(a,j);return b},b.popup.show=function(a){h&&(b.popup.close(),h=null),h=b.popup.create(a)},b.popup.close=function(a){a=a||{},null!=h&&(h.close(a),h=null)},b.popup.resize=function(a){a=a||{},a.width=a.width||null,d(a,h.wrap)}}(jQuery,$F),function(a,b){"use strict";function c(a,b,c){for(var d,e=/\[(.*?)\]/g,f=null,g=null;d=e.exec(b);)"undefined"==typeof a[d[1]]&&(a[d[1]]={}),g=a,f=d[1],a=a[d[1]];g[f]=c}b.serialize=function(b,d){d=null==d?!1:d;var e={};return jQuery.map(a(b).serializeArray(),function(a,b){var d=a.name.replace(/\[.*\]$/,"");if("undefined"==typeof e[d])/\[\]/.test(a.name)?e[d]=[a.value]:/\[.*?\]/.test(a.name)?(e[d]={},c(e[d],a.name,a.value)):e[d]=a.value;else if("object"==typeof e[d])e[d]instanceof Array?e[d].push(a.value):c(e[d],a.name,a.value);else{var f=e[d];e[d]=[f,a.value]}}),d?JSON.stringify(e):e}}(jQuery,$F),function(a,b){"use strict";var c=".scrollablenav";(function(){for(var a=4,b="abcdefghijklmnopqrstuvwxyz",c="",d=0;a>d;d++){var e=Math.random(),f=b[Math.floor(e*b.length)];c+=f}return c})();b.tabview=function(b){b=b||{};var d;d=a(b.element?b.element:c);var e=0;a("li",d).each(function(){e+=a(this).width()}),a(d).css("overflow","hidden"),a("ul",d).width(e);var f=a(d).width(),g=e+parseInt(a("ul",d).css("padding-left"))+parseInt(a("ul",d).css("padding-right"))-f;0>g&&(g=0);var h=a(d).position().left;a(d).mousemove(function(b){var c=(b.clientX-h)/f*g;a(d).scrollLeft(c)})}}(jQuery,$F),function(a,b){var c=-1,d=null;b.tutorial={},b.tutorial.loadTutorial=function(c){a.ajax({url:b.getConfig("tutorialDirectory")+c,type:"GET",dataType:"json",success:function(a){d=a,b.tutorial.processTutorial()}})},b.tutorial.processTutorial=function(){return null!=d?(c++,void 0===d[c]?(a("#tutorialenginelayer").remove(),a("body").css("overflow","auto"),d=null,void(c=-1)):void b.tutorial.tutorial(d[c])):void 0},b.tutorial.tutorial=function(c){var d=c;switch(a(window).off("resize.rendertutorial").on("resize.rendertutorial",function(){b.tutorial.tutorial(d)}),c.disableCenter=c.disableCenter||!0,a("#tutorialenginelayer").remove(),a("body").css("overflow","hidden").append('<div id="tutorialenginelayer" style="z-index: 9999;"></div>'),c.type){case"show":default:var e=a('<div style="width: 100%; position: absolute; background: rgba(0, 0, 0, 0.5); top: 0px; z-index: 2000;"></div>'),f=a('<div style="width: 100%; position: absolute; background: rgba(0, 0, 0, 0.5); height: 100%; z-index: 2000;"></div>'),g=a('<div style="position: absolute; background: rgba(0, 0, 0, 0.5); z-index: 2000;"></div>'),h=a('<div style="width: 100%; position: absolute; background: rgba(0, 0, 0, 0.5); z-index: 2000;"></div>');void 0!=c.focusNode&&(c.x=a(c.focusNode).eq(0).offset().left,c.y=a(c.focusNode).eq(0).offset().top,c.w=a(c.focusNode).eq(0).innerWidth(),c.h=a(c.focusNode).eq(0).innerHeight()),c.padding&&(c.x-=c.padding,c.y-=c.padding,c.w+=2*c.padding,c.h+=2*c.padding);var i={h:a("html").innerHeight(),w:a("html").innerWidth(),y:a(document).scrollTop()};if(c.y+c.h<i.y||c.y<i.y?a("html,body").stop().animate({scrollTop:c.y-50},300):(c.y+c.h>i.h+i.y||c.y>i.h+i.y)&&a("html,body").stop().animate({scrollTop:c.y-50},300),e.css({height:c.y+"px"}),f.css({top:c.y+c.h+"px"}),g.css({top:c.y+"px",width:c.x+"px",height:c.h+"px"}),h.css({top:c.y+"px",height:c.h+"px",left:c.x+c.w+"px"}),a("#tutorialenginelayer").append(e).append(f).append(g).append(h),c.disableCenter){var j=a('<div style="position: absolute; z-index: 500;"></div>');j.css({width:c.w,height:c.h,top:c.y,left:c.x}),a("#tutorialenginelayer").append(j)}var k=a('<div style="border: 3px solid #999;position:absolute; z-index: 2005; width: 300px; height: 100px; background: #fff; padding: 5px;font-size:11px;"></div>'),l=c.messageW||300,m=c.messageH||100,n=c.x+c.w+20,o=c.y;c.x+c.w+l+20>i.w&&(n=c.x-l-20),k.css({top:o+"px",left:n+"px",width:l+"px",height:m+"px"}),k.html(c.message),a("#tutorialenginelayer").append(k)}},b.tutorial.clearTutorialLayer=function(){a("#tutorialenginelayer").remove(),a("body").css("overflow","auto"),a(window).off("resize.rendertutorial")}}(jQuery,$F),function(a,b){b.util={},b.util.buildUrl=function(a,b,c){var d="",e="";c=c||!1;for(var f in b)d+=e,d+=encodeURIComponent(f),d+=c?"="+b[f]:"="+encodeURIComponent(b[f]),e="&";return""!==d?a+"?"+d:""},b.util.fillForm=function(b,c){if("form"===a(b).prop("nodeName").toLowerCase())for(var d in c)a("[name="+d+"]",a(b)).val(c[d])},b.util.propertiesExist=function(a,b){if(!b instanceof Array||!a instanceof Object)return console.error("$F.util.propertiesExist(obj, props) parameters are invalid types."),!1;for(var c=0,d=0,e=b.length;e>d;d++)"undefined"!=typeof a[b[d]]&&c++;return b.length==c?!0:!1}}(jQuery,$F),function(a){"use strict";a.validation={},a.validation.result=[],a.validation.lang={required:"{0} is required",minLength:"{0} have to be at least {1} characters",maxLength:"{0} have to be at least {2} characters"},a.validation.start=function(){a.validation.result=[]},a.validation.pass=function(){return a.validation.result.length>0?!1:!0},a.validation.record=function(b){a.validation.result.push(b)},a.validation.alert=function(b){for(var c=b||"",d=0;d<a.validation.result.length;d++)c+="\n"+a.validation.result[d];alert(c)},a.fn.validation=function(b,c){var d=function(d){var e=a(d).val();return console.log(c),console.log(b),c.required&&""==e.trim()?(a.validation.result.push(a.validation.lang.required.replace(/\{0\}/g,b)),!1):c.minLength&&e.length<c.minLength?(a.validation.result.push(a.validation.lang.minLength.replace(/\{0\}/g,b).replace(/\{1\}/g,c.minLength)),!1):c.maxLength&&e.length>c.maxLength?(a.validation.result.push(a.validation.lang.maxLength.replace(/\{0\}/g,b).replace(/\{1\}/g,c.maxLength)),!1):!0};return d(this.eq(0))}}(jQuery);
//# sourceMappingURL=formalhaut.min.js.map